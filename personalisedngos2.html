<!DOCTYPE html>
<html >
<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/logo.png" type="image/x-icon">
  <meta name="description" content="Personalised NGO recommendations.">
  <title>NGOs for you</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dosis:700,400&subset=cyrillic,latin,greek,vietnamese">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/document/css/style.css">
  <link rel="stylesheet" href="assets/document-slider/style.css">
  <link rel="stylesheet" href="assets/document/css/mbr-additional.css" type="text/css">



</head>
<body>
<section class="mbr-navbar mbr-navbar--freeze mbr-navbar--absolute mbr-navbar--sticky mbr-navbar--auto-collapse mbr-navbar--transparent" id="menu-m" data-rv-view="19">
    <div class="mbr-navbar__section mbr-section">
        <div class="mbr-section__container container">
            <div class="mbr-navbar__container">
                <div class="mbr-navbar__column mbr-navbar__column--s mbr-navbar__brand">
                    <span class="mbr-navbar__brand-link mbr-brand mbr-brand--inline">

                        <span class="mbr-brand__name"><a class="mbr-brand__name text-white" href="home.html">AIUTO</a></span>
                    </span>
                </div>
                <div class="mbr-navbar__hamburger mbr-hamburger"><span class="mbr-hamburger__line"></span></div>
                <div class="mbr-navbar__column mbr-navbar__menu">
                    <nav class="mbr-navbar__menu-box mbr-navbar__menu-box--inline-right">
                        <div class="mbr-navbar__column">
                            <ul class="mbr-navbar__items mbr-navbar__items--right float-left mbr-buttons mbr-buttons--freeze mbr-buttons--right btn-decorator mbr-buttons--active mbr-buttons--only-links"><li class="mbr-navbar__item"><a class="mbr-buttons__link btn text-white" href="https://goo.gl/forms/JR6LCtKvTlno7iQw2">FEEDBACK</a></li><li class="mbr-navbar__item"><a class="mbr-buttons__link btn text-white" href="https://goo.gl/forms/H87PS3lmBwqR3bVC3" target="_blank"></a></li><li class="mbr-navbar__item"><a class="mbr-buttons__link btn text-white" href="https://goo.gl/forms/JR6LCtKvTlno7iQw2"></a></li></ul>

                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="engine"></section><section class="mbr-slider mbr-section mbr-section--no-padding carousel slide" data-ride="carousel" data-wrap="true" data-interval="5000" id="slider-o" data-rv-view="25" style="background-color: rgb(190, 231, 199);">
    <div class="mbr-section__container">
        <div>
            <ol class="carousel-indicators">
                <li data-app-prevent-settings="" data-target="#slider-o" class="active" data-slide-to="0"></li><li data-app-prevent-settings="" data-target="#slider-o" data-slide-to="1"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <div class="mbr-box mbr-section mbr-section--relative mbr-section--fixed-size mbr-section--bg-adapted item dark center mbr-section--full-height active" style="background-image: url(assets/images/divyadisha-1024x512.jpg);">
                    <div class="mbr-box__magnet mbr-box__magnet--center-right mbr-box__magnet--sm-padding mbr-after-navbar">
                    <div class="mbr-overlay" style="opacity: 0.4; background-color: rgb(122, 198, 115);"></div>
                        <div class=" container">

                            <div class="row">
                                <div class=" col-md-6 col-md-offset-5">

                                <div class="mbr-hero">
                                    <h1 class="mbr-hero__text">The Divya Disha Foundation</h1>

                                    <p class="mbr-hero__subtext">Sarojini Devi Road, Secunderabad</p>
                                </div>
                                <div class="mbr-buttons btn-inverse mbr-buttons--left"><a class="mbr-buttons__btn btn btn-lg btn-success" href="personalisedngos2.html#header3-q">PERSONALISED SUGGESTIONS FOR YOU</a> </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><div class="mbr-box mbr-section mbr-section--relative mbr-section--fixed-size mbr-section--bg-adapted item dark center mbr-section--full-height" style="background-image: url(assets/images/chavadi-617x397.jpg);">
                    <div class="mbr-box__magnet mbr-box__magnet--center-left mbr-box__magnet--sm-padding mbr-after-navbar">
                    <div class="mbr-overlay" style="background-color: rgb(85, 57, 130);"></div>
                        <div class=" container">

                            <div class="row">
                                <div class=" col-md-offset-1 col-md-6">

                                <div class="mbr-hero">
                                    <h1 class="mbr-hero__text">The Chavadi Child Welfare Society</h1>

                                    <p class="mbr-hero__subtext">Telecom Nagar, Gachibowli, Hyderabad</p>
                                </div>
                                <div class="mbr-buttons btn-inverse mbr-buttons--left"><a class="mbr-buttons__btn btn btn-lg btn-success" href="personalisedngos2.html#header3-q">PERSONALISED SUGGESTIONS FOR YOU</a> </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <a data-app-prevent-settings="" class="left carousel-control" role="button" data-slide="prev" href="#slider-o">
                <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a data-app-prevent-settings="" class="right carousel-control" role="button" data-slide="next" href="#slider-o">
                <span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</section>

<section class="mbr-section" id="header3-q" data-rv-view="84">
    <div class="mbr-section__container container mbr-section__container--isolated">
        <div class="mbr-header mbr-header--wysiwyg row">
            <div class="col-sm-8 col-sm-offset-2">
                <h3 class="mbr-header__text">THE NGO closest to your current location:</h3>
                <h3 id="printNGO1" class="mbr-header__text"></h3>
                <h3 id="printNGO2" class="mbr-header__text"></h3>
                <h3 id="printNGO3" class="mbr-header__text"></h3>
            </div>
        </div>
    </div>
</section>

<footer class="mbr-section mbr-section--relative mbr-section--fixed-size" id="footer1-l" data-rv-view="21" style="background-color: rgb(65, 168, 95);">

    <div class="mbr-section__container container">
        <div class="mbr-footer mbr-footer--wysiwyg row" style="padding-top: 36.9px; padding-bottom: 36.9px;">
            <div class="col-sm-12">
                <p class="mbr-footer__copyright"></p>
            </div>
        </div>
    </div>
</footer>
<script>
// Convert Degress to Radians
function Deg2Rad( deg ) {
  return deg * Math.PI / 180;
}

function PythagorasEquirectangular( lat1, lon1, lat2, lon2 ) {
  lat1 = Deg2Rad(lat1);
  lat2 = Deg2Rad(lat2);
  lon1 = Deg2Rad(lon1);
  lon2 = Deg2Rad(lon2);
  var R = 6371; // km
  var x = (lon2-lon1) * Math.cos((lat1+lat2)/2);
  var y = (lat2-lat1);
  var d = Math.sqrt(x*x + y*y) * R;
  return d;
}

function NearestCity(latitude, longitude, locations) {
  var mindif=99999;
  var closest;

  for (index = 0; index < locations.length; ++index) {
    var dif =  PythagorasEquirectangular(latitude, longitude, locations[ index ][ 1 ], locations[ index ][ 2 ]);
    if ( dif < mindif ) {
      closest=index;
      mindif = dif;
    }
  }

  // return the nearest location
  var closestLocation = (locations[closest]);
  document.getElementById("printNGO1").innerHTML = closestLocation[0];
  return closestLocation;
}
function TwoNearestCity(latitude, longitude, locations) {
  var mindif=99999;
  var closest;
  var twoclosest;
  var threeclosest;

  for (index = 0; index < locations.length; ++index) {
    var dif =  PythagorasEquirectangular(latitude, longitude, locations[ index ][ 1 ], locations[ index ][ 2 ]);
    if ( dif < mindif ) {
      closest=index;
      mindif = dif;
    }
  }

  // return the nearest location
  var closestLocation = (locations[closest]);

  return closestLocation;
}
function ThreeNearestCity(latitude, longitude, locations) {
  var mindif=99999;
  var closest;

  for (index = 0; index < locations.length; ++index) {
    var dif =  PythagorasEquirectangular(latitude, longitude, locations[ index ][ 1 ], locations[ index ][ 2 ]);
    if ( dif < mindif ) {
      closest=index;
      mindif = dif;
    }
  }

  // return the nearest location
  var closestLocation = (locations[closest]);
  console.log('The closest location is ' + closestLocation[2]);
  return closestLocation;
}
// get our three parameters ready
var lng,
    lat,
    cities = [
      ["Chavadi Child Welfare Society",17.4482081,78.3626829],
      ["Maruti Orphanage",17.5136802,78.3459965],
      ["Yuvatha Foundation",17.4101051,78.5011634],
      ["Aman Vedika",17.4166512,78.4969395],
      ["Stass Foundation",17.3585325,78.5530934],
      ["Divya Disha Foundation",17.421575,78.5853033]
];

// HTML5/W3C Geolocation
if (navigator.geolocation) {
  // get the users current position
  navigator.geolocation.getCurrentPosition(function(position) {
    // store their latitude and longitude into the variables we set up above
    lng = position.coords.latitude;
    lat = position.coords.longitude;

    // in this case I just want the name of the city, so I'm storing the returned value into a variable
    var usersCity = NearestCity(lng, lat, cities);
    var usersTwoCity = TwoNearestCity(lng,lat,cities);
    var usersThreeCity = ThreeNearestCity(lng,lat,cities);
    console.log(usersCity[0])
    console.log(usersTwoCity[0])
    console.log(usersThreeCity[0])

    // I want to keep this value for when the user returns to the site or app
    window.localStorage.usersLocation = usersCity[0];

  }, function(error) {
    // logs the error if we can't get the users current position for some reason
    console.log(error);
  });
}
</script>

  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smooth-scroll/smooth-scroll.js"></script>
  <script src="assets/bootstrap-carousel-swipe/bootstrap-carousel-swipe.js"></script>
  <script src="assets/document/js/script.js"></script>


</body>
</html>
